# 处理驳回

*翻译自：https://github.com/google/eng-practices/blob/master/review/reviewer/pushback.md*

有时候developer会因为不同意reviewer的建议或者抱怨reviewer太过严苛而驳回review的评论。

## 谁对谁错

当developer不同意你的建议时，首先认真考虑一下developer是否是正确的。通常，developer比你更接近代码，在某些方面确实会比你有更好的了解。他们的论点是否有意义？从代码健康的角度，是否有意义？如果是，告诉他们是对的，问题解决。

然而，developer并不总是对的。这种情况下，reviewer应该做更进一步的解释，表达对于developer回复的理解，并对于需要修改的部分做一些额外的说明阐述。
特别是当reviewer认为其建议可以提升代码的健康度，并且为此付出的额外工作量也是值得的，那么应该继续倡导去做修改。代码健康度往往是一小步一小步慢慢构建起来的。

有时候一个建议被采纳会需要好几轮的解释讨论，注意总是保持礼貌，让developer知道你理解他们的想法，只是并不同意。

## 郁闷的developer

reviewer常常觉得自己对于一些提升/改动的坚持会让developer感到不爽。有时候developer确实会感到郁闷，不过一般都是短暂的，一段时间后他们会感谢你帮助他们提升代码质量。通常情况下，如果reviewer在写评论的时候保持有礼貌的态度，developer并不会反感，只是reviewer以为会而已。令人不爽的往往是写评论的方式，而不是reviewer对于代码质量的坚持。

## 以后再解决

对于评论的驳回有很大一部分是因为developer想事情快点结束，不想通过多轮次的review才让CL通过，他们会说后面会找时间来修复review提到的问题，希望你现在通过这个review。有一些developer确实会马上提交一个后续CL来解决问题，然而，经验告诉我们，时间过的越久，就越不可能去做修改。事实上，除非developer马上提交CL，否则就再也不会来做修改了。这并不是因为developer不够尽责，而是因为他们有大量的其他工作要做，他们往往会忘掉或者由于工作压力而不了了之了。所以，最好是在让代码进入代码仓之前，就在当前的CL里面解决掉。多向其他人传递观点：以后再解决这种做法往往会让代码库健康状况恶化。

如果CL引入了新的复杂度，除非是紧急情况，否则都需要在提交之前解决掉。如果CL暴露了一些周边的问题，当前没有办法解决，developer应该为自己记录一个bug并分配给自己，这样才不会忘掉，还可以选择在代码上写一些与该bug相关的TODO注释。

## 抱怨reviewer过于严格

如果你以前的review做的比较宽松，现在转为严格了，一些developer就会大声抱怨。提高review的速度，通常会让这些抱怨慢慢消失。
有时候抱怨可能会持续好几个月才慢慢消失，但当developer看到这样可以帮助得到质量更优的代码时候，最终他们会认识到这种很严格是有价值的。一旦发生什么事情，让人们看到因为严格审查而带来了好处，那些抱怨的最厉害的人可能会成为最支持你的人。

## 解决冲突

如果上面的这些套路还不能解决你和dveloper之间的冲突。参照[CodeReview的标准](standard.md)里面的指引和原则，应该会有帮助。
