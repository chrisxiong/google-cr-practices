# 如何写CR评论

*翻译自：https://github.com/google/eng-practices/blob/master/review/reviewer/comments.md*

## 总览

+ 保持友好。
+ 说明自己的原因。
+ 直接指出问题和改进方向还是让developer自己搞定，需要做好权衡。
+ 鼓励developer简化代码或添加代码注释，而不是仅仅向您解释代码的复杂性。

## 礼貌

通常来说，礼貌和尊重很重要，其重要程度可能不亚于给到developer以清晰和有用的信息。有一种好的办法，就是 **只评论代码而不评论个人**。你不必要总是这么做，但是当你会说到一些让人心烦或者有争议的内容时，你绝对应该这么做。例如：

坏的说法：并发并没有什么明显的好处，**你**为什么要用多线程？

好的说法：此处的并发模型引入了复杂度，但是我并没有看到实际的性能优势，我建议可以使用单线程比较好。

## 解释为什么

你应该注意到了，上面的“好”例子，评论中给出了原因，让developer可以更好的理解为什么会产生这条评论。作为reviewer的你，并不需要总是这么做，不过，很多时候，对于您的意图、您所遵循的最佳实践，或者您给出的如何改善代码健康状况的建议，给出更多的解释是合适的。

## 给出指引

**一般来说，修复CL是developer的责任，而不是reviewer的责任**。您不需要为developer进行详细的解决方案设计或编写代码。

不过，这并不代表reviewer不应该有所帮助。一般来说，你应该在指出问题和提供直接指导之间取得适当的平衡。指出问题并让developer来决定具体怎么做，通常有助于developer学习，并使代码评审变得更容易。它还可以产生更好的解决方案，因为developer比reviwer更接近代码。

然而，有时候直接的指引、建议甚至秀代码可能更有帮助。代码评审的主要目标是获得最佳的CL。第二目标是提高developer的技能，久而久之，让他们可以减少需要被review的次数，以及review的时间。

## 接受说明

如果您让developer解释一段您不理解的代码，通常会驱使他们更清楚地重写代码。偶尔，在代码中添加注释也是一种适当的响应，只要它不只是用来解释过于复杂的代码。

**仅在代码评审工具中编写的说明对将来的代码读者没有帮助**。它们只在少数情况下是可接受的，例如当您正在评审一个您不太熟悉的区域，并且开发人员的说明是普通读者很清楚的东西。

下一篇：[处理驳回](pushback.md)
