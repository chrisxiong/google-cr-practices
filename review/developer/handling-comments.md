# 如何处理reviewer的评论

*翻译自：https://github.com/google/eng-practices/blob/master/review/developer/handling-comments.md*

提交CL给reviewer后，很可能会收到一些评论。下面是一些关于如何处理review评论的建议。

## 对事不对人

review的目标是维护代码库和产品的健康度。当收到一个review评论时，可以当作时对于个人，代码库，公司的帮助，而不是对于个人能力的质疑或攻击。

有时，reveiwer会感到沮丧，并在评论中表达出来。 对于reviewer来说，这不是一个好习惯，但是作为developer，您应该时刻准备好应对这种情况。首先问问自己：“reviewer想表达的建设性内容是什么？”， 找到这些建设性内容后再朝这个方向执行。

**永远不要对代码评审的评论做出愤怒的回应**。这是对职业礼仪的严重违背，并将永远存在于代码审查工具中。如果你实在太不爽了以至于当前不能友好的回应，考虑先离开电脑或者去做些其他的事情，待自己平静后再回来礼貌地应对。

一般来说，如果reviewer没有以一种建设性的、礼貌的方式提供反馈，那就当面向他们解释。如果你不能和他们面对面或视频通话，那就给他们发私人邮件，用友好的方式向他们解释你不喜欢什么，你希望他们做哪些方面的改变。如果他们依然以非建设性的方式回应私人讨论，或者私下讨论没有达到预期的效果，那么可以根据情况升级到上级领导。

## 修复代码

如果reviewer说不理解你的代码，你应该首先修改代码提升其自说明性。如果提升代码自说明性还不能起到效果，可以尝试添加一些代码注释。只有在代码注释依然不能很好表达的时候，你才应该在代码评审工具中给出相关的解释性回应。

如果reviewer不能理解你的代码，那么将来其他看你代码的人很可能也不能理解。在评审工具中给出解释对于将来的读者没有什么帮助，而改善代码提升自说明性或者编写代码注释就可以起到很好的作用。

## 独立思考

编写CL可能耗费大量工作。通常情况下，你会感到很满意，觉得事情已经搞定并且不需要做更进一步的工作了。 因此，当reviewer评论说一些地方有待改进的时候，很容易本能地认为评论是错误的，reviewer不应该阻塞你的工作，而应该直接通过你的CL。 但是，**无论您现在有多确定**，请花点时间回顾一下，看看reviewer是否提供了对代码库和公司有价值的反馈， 您对自己的第一个问题应该始终是：“reviewer是不是对的？”

如果你不确定上面问题的答案，那么reviewer可能需要对评论做更清晰的表述。

如果你考量过后依然认为自己是正确的，可以保持轻松的心态去回应，解释为什么你的方法对于代码库、用户乃至公司是有益处的。通常，reviewer实际上都是给一些建议，他们希望你能自己独立思考找到最好的办法。实际上，你对于CL的具体内容，及其所涉及的用户，对代码库的影响比reviewer更清楚。通过补充更充分的上下文，你和reviewer往往能够就技术事实达成共识。

## 解决冲突

解决冲突的第一步始终是设法与reviewer达成共识。如果做不到，可以查看[CodeReview的标准](../reviewer/standard.md)，里面提供了一些原则，可以帮助到你。
