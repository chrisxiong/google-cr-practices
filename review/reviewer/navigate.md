# 查看CL

*翻译自：https://github.com/google/eng-practices/blob/master/review/reviewer/navigate.md*

## 总览

现在您已经知道[CodeReview的关注点](looking-for.md)，那么要如何做才能最有效的进行多文件的Review呢？
1. 改动是否有意义？是否有恰到好处的[CL描述](../developer/cl-descriptions.md)？
2. 优先关注最重要的改动，从全局的视角来看其是否经过了良好设计？
3. 以适当的顺序查看CL的其余部分。

## 第一步：以全局的视角审查改动

审查[CL描述](../developer/cl-descriptions.md)，大体上看一下该CL的作用，看其是否依然有意义？如果改动一开始就不应该发生，应该第一时间给出回应为什么不应该做这样的改动？在拒绝改动的时候，给出合理的建议是个不错的选择。

例如，你可以这样说“看起来你在这方面做得不错，谢谢。但是，你修改的FooWidget系统即将会被删除，当前我们不打算对其进行任何变更了。你不如考虑来重构我们的新BarWidget类”。

请注意，Reviewer需要有礼貌地拒绝了当前的CL并提供了替代性的建议。这种 **礼貌** 是很重要的，因为我们想要表现出我们作为developer彼此尊重，即使我们意见不一致也应当如此。

如果你收到了多个自己不希望做出的变更，这个时候你需要考量一下团队的开发流程以及外部贡献者发布流程，以便在进行实际变更之前有更多的沟通交流，在人们做出大量需要被丢弃或重写的变更之前及时发现并制止。

## 第二步：测试改动的主要部分

首先要找到改动的主要部分。通常来说，有一个文件会有大量的逻辑变更，那么该文件就是改动的主要部分。优先审查这部分的内容，这部分内容会未其他部分的小改动提供可参考的上下文，起到加速review的效果。如果改动太大以至于很难找到改动的主要部分，那么就先问一下developer或者让其把改动拆分成多个[小改动](../developer/small-cls.md)。

如果你观察到了主要部分有一些重大的设计问题，即使你当前没有时间去审查改动的其他部分，也应该立即写下评语。事实上，如果设计问题比较严重，那么剩下的代码往往是无意义需要被丢弃的，去审查这些内容往往是浪费时间。

下面是两条必须立即就重大设计问题给出评语的原因：
+ developer在做出一个改动之后，在该改动被审阅的同时会着手进行后续的改动。如果当前改动存在重大的设计问题，其后的改动会需要重做。你需要在developer做出更多改动之前，指出其设计问题，以免做出大量无效工作。
+ 主要的设计改动往往比小改动需要更多的时间。而developer基本上都有一个deadline，为了在deadline到来之前保持高质量的改动，他们需要尽早对有问题的主要改动进行重新设计。

## 第三步：按照适当的顺序查看改动的其余部分

一旦您确认了CL整体上没有重大的设计问题，接下来就可以尝试找出一个逻辑顺序来检查这些文件，同时需确保不要漏掉任何文件。通常，在您浏览完主要文件之后，最简单的方法就是按照代码审查工具显示文件的顺序浏览每个文件。在阅读主代码之前先阅读测试往往非常有用，因为测试可以帮助你猜测到代码具体在干什么。

下一篇：[代码审查的速度](speed.md)
